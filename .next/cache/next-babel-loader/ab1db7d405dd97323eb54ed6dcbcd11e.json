{"ast":null,"code":"import React from \"react\";\nimport fetch from \"node-fetch\";\nimport { Headers } from \"node-fetch\";\nimport GetFBID from \"../GetFBID\";\nexport default async function GetPhotos(page) {\n  let albumList = [];\n  const fbID = await GetFBID(page);\n  const variables = \"{'count':30,'pageID':'\" + fbID + \"'}\";\n  var myHeaders = new Headers();\n  myHeaders.append(\"user-agent\", \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\");\n  myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n  var urlencoded = new URLSearchParams();\n  urlencoded.append(\"variables\", variables);\n  urlencoded.append(\"doc_id\", \"2386959101363343\");\n  var requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: urlencoded,\n    redirect: 'follow'\n  };\n  const res = await fetch(\"https://www.facebook.com/api/graphql/\", requestOptions);\n\n  if (res.ok) {\n    console.log(\"response okay\");\n    const resJson = await res.json();\n    const resPhotoList = resJson.data.page['page_albums'].edges;\n\n    for (let i = 0; i < resPhotoList.length; i++) {\n      let albumName = resPhotoList[i].node.name;\n      let albumLink = resPhotoList[i].node.id;\n      albumList.push({\n        name: albumName,\n        link: albumLink\n      });\n    }\n\n    return albumList;\n  } else {\n    console.log(\"response failed\");\n    return [];\n  }\n}","map":null,"metadata":{},"sourceType":"module"}