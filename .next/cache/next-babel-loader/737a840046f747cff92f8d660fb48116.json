{"ast":null,"code":"var __jsx = React.createElement;\nimport { useRouter } from \"next/router\";\nimport React from \"react\";\nimport HeaderBar from \"../../../components/nav/HeaderBar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MakeGallery from \"../../../components/Photos/MakeGallery\";\nimport GetPhotos from \"../../../components/Photos/GetPhotos\";\nimport GetAlbumLinks from \"../../../components/Photos/GetAlbumLinks\";\nimport Link from \"next/link\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nexport async function getServerSideProps(context) {\n  if (context.query.tab === 'album') {\n    let page = context.asPath.replace('?tab=album&album_id=', '');\n    let photoArray = await GetPhotos(page);\n    return {\n      props: {\n        photoArray\n      }\n    };\n  } else {\n    let page = context.query.page;\n    let photoArray = await GetPhotos(page);\n    let albumLinks = await GetAlbumLinks(page);\n    return {\n      props: {\n        photoArray,\n        albumLinks\n      }\n    };\n  }\n}\n\nconst Page = ({\n  photoArray,\n  albumLinks\n}) => {\n  const router = useRouter();\n\n  const imageGallery = __jsx(MakeGallery, {\n    images: photoArray\n  });\n\n  console.log('query: ', router.query);\n\n  if (router.query.tab === 'album') {\n    return __jsx(\"div\", null, __jsx(HeaderBar, null), __jsx(\"div\", null, __jsx(\"div\", {\n      className: \"pagetitle\"\n    }, __jsx(Typography, {\n      align: \"center\",\n      variant: 'h4'\n    }, router.query.album_id)), __jsx(\"div\", null, imageGallery)));\n  }\n\n  const albumList = albumLinks.map(album => {\n    const link = \"/\" + router.query.page + \"/photos/?tab=album&album_id=\" + album.link;\n    const name = album.name;\n    return __jsx(MenuItem, {\n      onClick: () => {\n        router.push(link);\n      },\n      key: name\n    }, __jsx(Typography, {\n      variant: \"h6\"\n    }, name));\n  });\n  return __jsx(\"div\", null, __jsx(HeaderBar, null), __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"pagetitle\"\n  }, __jsx(Typography, {\n    align: \"center\",\n    variant: 'h4'\n  }, router.query.page, \" Photos\")), __jsx(\"div\", null, imageGallery), __jsx(\"div\", null, albumList)));\n};\n\nexport default Page;","map":null,"metadata":{},"sourceType":"module"}