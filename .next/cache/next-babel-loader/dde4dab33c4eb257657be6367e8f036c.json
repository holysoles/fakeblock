{"ast":null,"code":"import React from \"react\";\nimport fetch from \"node-fetch\";\nimport { Headers } from \"node-fetch\";\nimport GetFBID from \"../GetFBID\";\nexport default async function GetPhotos(page) {\n  let photoArray = [];\n  const fbID = await GetFBID(page);\n  const variables = 0;\n  var myHeaders = new Headers();\n  myHeaders.append(\"user-agent\", \"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Mobile Safari/537.36\");\n  myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n  var urlencoded = new URLSearchParams();\n  urlencoded.append(\"variables\", \"{\\\"count\\\":30,\\\"pageID\\\":\\\"103993556298304\\\"}\");\n  urlencoded.append(\"doc_id\", \"3196825307056043\");\n  var requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: urlencoded,\n    redirect: 'follow'\n  };\n  const res = await fetch(\"https://www.facebook.com/api/graphql/\", requestOptions);\n  console.log(res);\n\n  if (res.ok) {\n    console.log(\"response okay\");\n    const resJson = await res.json();\n    const resPhotoList = resJson.data.page['posted_photos'].edges;\n\n    for (let i; resPhotoList < i; i++) {\n      let photoSource = resPhotoList[i].node.image.uri;\n      console.log(photoSource);\n      photoArray.push(photoSource);\n    }\n\n    return photoArray;\n  } else {\n    console.log(\"response failed\");\n    return [];\n  }\n}","map":{"version":3,"sources":["C:/Users/Patrick/PhpstormProjects/fakeblock/components/Photos/GetPhotos.js"],"names":["React","fetch","Headers","GetFBID","GetPhotos","page","photoArray","fbID","variables","myHeaders","append","urlencoded","URLSearchParams","requestOptions","method","headers","body","redirect","res","console","log","ok","resJson","json","resPhotoList","data","edges","i","photoSource","node","image","uri","push"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,SAAQC,OAAR,QAAsB,YAAtB;AACA,OAAOC,OAAP,MAAoB,YAApB;AAEA,eAAe,eAAeC,SAAf,CAAyBC,IAAzB,EAA+B;AAC1C,MAAIC,UAAU,GAAG,EAAjB;AACA,QAAMC,IAAI,GAAG,MAAMJ,OAAO,CAACE,IAAD,CAA1B;AAEA,QAAMG,SAAS,GAAG,CAAlB;AAEA,MAAIC,SAAS,GAAG,IAAIP,OAAJ,EAAhB;AACAO,EAAAA,SAAS,CAACC,MAAV,CAAiB,YAAjB,EAA+B,yIAA/B;AACAD,EAAAA,SAAS,CAACC,MAAV,CAAiB,cAAjB,EAAiC,mCAAjC;AACA,MAAIC,UAAU,GAAG,IAAIC,eAAJ,EAAjB;AACAD,EAAAA,UAAU,CAACD,MAAX,CAAkB,WAAlB,EAA+B,+CAA/B;AACAC,EAAAA,UAAU,CAACD,MAAX,CAAkB,QAAlB,EAA4B,kBAA5B;AACA,MAAIG,cAAc,GAAG;AACjBC,IAAAA,MAAM,EAAE,MADS;AAEjBC,IAAAA,OAAO,EAAEN,SAFQ;AAGjBO,IAAAA,IAAI,EAAEL,UAHW;AAIjBM,IAAAA,QAAQ,EAAE;AAJO,GAArB;AAOA,QAAMC,GAAG,GAAG,MAAMjB,KAAK,CAAC,uCAAD,EAA0CY,cAA1C,CAAvB;AACAM,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AAEA,MAAIA,GAAG,CAACG,EAAR,EAAY;AACRF,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,UAAME,OAAO,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAtB;AACA,UAAMC,YAAY,GAAGF,OAAO,CAACG,IAAR,CAAapB,IAAb,CAAkB,eAAlB,EAAmCqB,KAAxD;;AACA,SAAI,IAAIC,CAAR,EAAWH,YAAY,GAAGG,CAA1B,EAA6BA,CAAC,EAA9B,EAAiC;AAC7B,UAAIC,WAAW,GAAGJ,YAAY,CAACG,CAAD,CAAZ,CAAgBE,IAAhB,CAAqBC,KAArB,CAA2BC,GAA7C;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAYQ,WAAZ;AACAtB,MAAAA,UAAU,CAAC0B,IAAX,CAAgBJ,WAAhB;AACH;;AAED,WAAOtB,UAAP;AACH,GAXD,MAWO;AACHa,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,WAAO,EAAP;AACH;AACJ","sourcesContent":["import React from \"react\";\r\nimport fetch from \"node-fetch\"\r\nimport {Headers} from \"node-fetch\";\r\nimport GetFBID from \"../GetFBID\";\r\n\r\nexport default async function GetPhotos(page) {\r\n    let photoArray = [];\r\n    const fbID = await GetFBID(page);\r\n\r\n    const variables = 0;\r\n\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\"user-agent\", \"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Mobile Safari/537.36\");\r\n    myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n    var urlencoded = new URLSearchParams();\r\n    urlencoded.append(\"variables\", \"{\\\"count\\\":30,\\\"pageID\\\":\\\"103993556298304\\\"}\");\r\n    urlencoded.append(\"doc_id\", \"3196825307056043\");\r\n    var requestOptions = {\r\n        method: 'POST',\r\n        headers: myHeaders,\r\n        body: urlencoded,\r\n        redirect: 'follow'\r\n    };\r\n\r\n    const res = await fetch(\"https://www.facebook.com/api/graphql/\", requestOptions);\r\n    console.log(res)\r\n\r\n    if (res.ok) {\r\n        console.log(\"response okay\");\r\n        const resJson = await res.json();\r\n        const resPhotoList = resJson.data.page['posted_photos'].edges;\r\n        for(let i; resPhotoList < i; i++){\r\n            let photoSource = resPhotoList[i].node.image.uri;\r\n            console.log(photoSource)\r\n            photoArray.push(photoSource);\r\n        }\r\n\r\n        return photoArray\r\n    } else {\r\n        console.log(\"response failed\");\r\n        return []\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}