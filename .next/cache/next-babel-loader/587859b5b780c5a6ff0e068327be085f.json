{"ast":null,"code":"import fetch from \"node-fetch\";\nimport { Headers } from \"node-fetch\";\nexport default async function GetAbout(pageid) {\n  const reqURL = 'https://www.facebook.com/' + pageid + \"/about\";\n  var myHeaders = new Headers();\n  myHeaders.append(\"authority\", \"www.facebook.com\");\n  myHeaders.append(\"user-agent\", \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36\");\n  myHeaders.append(\"origin\", \"https://www.facebook.com\");\n  myHeaders.append(\"sec-fetch-site\", \"same-origin\");\n  myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n  myHeaders.append(\"Cookie\", \"sb=u7O1Xo5djoFP0mbuSP_k0MvF; fr=14aihP7YQQ5aEgJwn..BeoGHg.fj.F6s.0.0.BetbQ9.AWVKTgAJ\");\n  var urlencoded = new URLSearchParams();\n  urlencoded.append(\"__user\", \"0\");\n  urlencoded.append(\"__a\", \"1\");\n  urlencoded.append(\"__dyn\", \"7AgNe5Gmawgrolg9odoyGxu4QjFwn8S2Sq2i5U4e1qzEjyQdxK5WAx-bxWUW16whoS2S4og-2i3qcw8258txG4o4O0CawQw86q2u2-263WWwSxu15wgE46fw9C48szU2Tx62WUry8465o-cBK0jW2uV8y2G2CaCzU5i3a1PwBgK7o88vwEwIw9i2-2WE9EjwaOfxW686-4Ueo2swwwNwmEe8\");\n  urlencoded.append(\"__csr\", \"\");\n  urlencoded.append(\"__req\", \"2\");\n  var requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: urlencoded,\n    redirect: 'follow'\n  };\n  const res = await fetch(\"https://www.facebook.com/insurancehelp/about/\", requestOptions);\n  const resText = await res.text();\n  const aboutHTML = resText.split('<!--')[1].split(\"-->\")[0]; //console.log(aboutHTML)\n  //import jsdom for dom capabilties on server\n\n  const jsdom = require(\"jsdom\");\n\n  const {\n    JSDOM\n  } = jsdom;\n  const dom = new JSDOM(aboutHTML);\n  const document = dom.window.document;\n  console.log(document);\n  return aboutHTML;\n}","map":{"version":3,"sources":["C:/Users/Patrick/PhpstormProjects/fakeblock/components/Business/GetAbout.js"],"names":["fetch","Headers","GetAbout","pageid","reqURL","myHeaders","append","urlencoded","URLSearchParams","requestOptions","method","headers","body","redirect","res","resText","text","aboutHTML","split","jsdom","require","JSDOM","dom","document","window","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,YAAlB;AACA,SAAQC,OAAR,QAAsB,YAAtB;AAEA,eAAe,eAAeC,QAAf,CAAyBC,MAAzB,EAAgC;AAC3C,QAAMC,MAAM,GAAG,8BAA8BD,MAA9B,GAAuC,QAAtD;AAEA,MAAIE,SAAS,GAAG,IAAIJ,OAAJ,EAAhB;AACAI,EAAAA,SAAS,CAACC,MAAV,CAAiB,WAAjB,EAA8B,kBAA9B;AACAD,EAAAA,SAAS,CAACC,MAAV,CAAiB,YAAjB,EAA+B,qHAA/B;AACAD,EAAAA,SAAS,CAACC,MAAV,CAAiB,QAAjB,EAA2B,0BAA3B;AACAD,EAAAA,SAAS,CAACC,MAAV,CAAiB,gBAAjB,EAAmC,aAAnC;AACAD,EAAAA,SAAS,CAACC,MAAV,CAAiB,cAAjB,EAAiC,mCAAjC;AACAD,EAAAA,SAAS,CAACC,MAAV,CAAiB,QAAjB,EAA2B,sFAA3B;AAEA,MAAIC,UAAU,GAAG,IAAIC,eAAJ,EAAjB;AACAD,EAAAA,UAAU,CAACD,MAAX,CAAkB,QAAlB,EAA4B,GAA5B;AACAC,EAAAA,UAAU,CAACD,MAAX,CAAkB,KAAlB,EAAyB,GAAzB;AACAC,EAAAA,UAAU,CAACD,MAAX,CAAkB,OAAlB,EAA2B,0NAA3B;AACAC,EAAAA,UAAU,CAACD,MAAX,CAAkB,OAAlB,EAA2B,EAA3B;AACAC,EAAAA,UAAU,CAACD,MAAX,CAAkB,OAAlB,EAA2B,GAA3B;AAEA,MAAIG,cAAc,GAAG;AACjBC,IAAAA,MAAM,EAAE,MADS;AAEjBC,IAAAA,OAAO,EAAEN,SAFQ;AAGjBO,IAAAA,IAAI,EAAEL,UAHW;AAIjBM,IAAAA,QAAQ,EAAE;AAJO,GAArB;AAOA,QAAMC,GAAG,GAAG,MAAMd,KAAK,CAAC,+CAAD,EAAkDS,cAAlD,CAAvB;AACA,QAAMM,OAAO,GAAG,MAAMD,GAAG,CAACE,IAAJ,EAAtB;AAEA,QAAMC,SAAS,GAAGF,OAAO,CAACG,KAAR,CAAc,MAAd,EAAsB,CAAtB,EAAyBA,KAAzB,CAA+B,KAA/B,EAAsC,CAAtC,CAAlB,CA5B2C,CA6B3C;AAIA;;AACA,QAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAYF,KAAlB;AACA,QAAMG,GAAG,GAAG,IAAID,KAAJ,CAAUJ,SAAV,CAAZ;AACA,QAAMM,QAAQ,GAAGD,GAAG,CAACE,MAAJ,CAAWD,QAA5B;AAEAE,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AAGA,SAAON,SAAP;AACH","sourcesContent":["import fetch from \"node-fetch\";\r\nimport {Headers} from \"node-fetch\";\r\n\r\nexport default async function GetAbout (pageid){\r\n    const reqURL = 'https://www.facebook.com/' + pageid + \"/about\";\r\n\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\"authority\", \"www.facebook.com\");\r\n    myHeaders.append(\"user-agent\", \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36\");\r\n    myHeaders.append(\"origin\", \"https://www.facebook.com\");\r\n    myHeaders.append(\"sec-fetch-site\", \"same-origin\");\r\n    myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n    myHeaders.append(\"Cookie\", \"sb=u7O1Xo5djoFP0mbuSP_k0MvF; fr=14aihP7YQQ5aEgJwn..BeoGHg.fj.F6s.0.0.BetbQ9.AWVKTgAJ\");\r\n\r\n    var urlencoded = new URLSearchParams();\r\n    urlencoded.append(\"__user\", \"0\");\r\n    urlencoded.append(\"__a\", \"1\");\r\n    urlencoded.append(\"__dyn\", \"7AgNe5Gmawgrolg9odoyGxu4QjFwn8S2Sq2i5U4e1qzEjyQdxK5WAx-bxWUW16whoS2S4og-2i3qcw8258txG4o4O0CawQw86q2u2-263WWwSxu15wgE46fw9C48szU2Tx62WUry8465o-cBK0jW2uV8y2G2CaCzU5i3a1PwBgK7o88vwEwIw9i2-2WE9EjwaOfxW686-4Ueo2swwwNwmEe8\");\r\n    urlencoded.append(\"__csr\", \"\");\r\n    urlencoded.append(\"__req\", \"2\");\r\n\r\n    var requestOptions = {\r\n        method: 'POST',\r\n        headers: myHeaders,\r\n        body: urlencoded,\r\n        redirect: 'follow'\r\n    };\r\n\r\n    const res = await fetch(\"https://www.facebook.com/insurancehelp/about/\", requestOptions);\r\n    const resText = await res.text();\r\n\r\n    const aboutHTML = resText.split('<!--')[1].split(\"-->\")[0];\r\n    //console.log(aboutHTML)\r\n\r\n\r\n\r\n    //import jsdom for dom capabilties on server\r\n    const jsdom = require(\"jsdom\");\r\n    const { JSDOM } = jsdom;\r\n    const dom = new JSDOM(aboutHTML);\r\n    const document = dom.window.document;\r\n\r\n    console.log(document)\r\n\r\n\r\n    return aboutHTML\r\n}"]},"metadata":{},"sourceType":"module"}