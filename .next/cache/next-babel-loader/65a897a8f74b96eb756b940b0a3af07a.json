{"ast":null,"code":"var __jsx = React.createElement;\nimport MakeAvatar from \"./MakeAvatar\";\nimport React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport MakeVideoPlayer from \"./MakeVideoPlayer\";\nimport MakeGallery from \"../Photos/MakeGallery\";\nimport Linkify from 'linkifyjs/react';\nimport linkifyHTML from 'linkifyjs/html';\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: 750,\n    'margin': '4%'\n  }\n});\nexport default function MakePosts(postsArray) {\n  const classes = useStyles();\n  const postsList = postsArray.map(post => {\n    let Avatar = MakeAvatar('/');\n    const paragraphs = post.text.map((paragraph, index) => {\n      //look for link in paragraph text to create hyperlink\n      paragraph = __jsx(Linkify, {\n        tagName: \"p\",\n        options: {\n          defaultProtocol: 'https'\n        }\n      }, paragraph);\n      return __jsx(Typography, {\n        variant: \"body2\",\n        component: \"p\",\n        key: index\n      }, paragraph);\n    });\n    let images = post.images.map(source => {\n      //if image is avatar\n      if (source.includes('t1.0-1')) {\n        Avatar = MakeAvatar(source, post.user);\n      } else {\n        return source;\n      }\n    }); //remove profile pic from image array\n\n    let media = __jsx(MakeGallery, {\n      images: images\n    }); //if there is a video post, overwrite thumbnail with video player component\n\n\n    if (post.video.length > 0) {\n      media = __jsx(MakeVideoPlayer, {\n        source: post.video,\n        thumb: post.images[1]\n      });\n    }\n\n    return __jsx(Card, {\n      key: post.timestamp,\n      className: classes.root\n    }, media, __jsx(CardContent, null, __jsx(\"div\", null, Avatar, __jsx(Typography, {\n      gutterBottom: true,\n      variant: \"h6\"\n    }, post.user)), __jsx(Typography, {\n      gutterBottom: true,\n      variant: \"body2\",\n      color: \"textSecondary\"\n    }, post.timestamp), paragraphs), __jsx(CardActions, null, __jsx(Button, {\n      size: \"small\",\n      color: \"primary\"\n    }, \"Share\"), __jsx(Button, {\n      size: \"small\",\n      color: \"primary\"\n    }, \"Likes\")));\n  });\n  return postsList;\n}","map":null,"metadata":{},"sourceType":"module"}