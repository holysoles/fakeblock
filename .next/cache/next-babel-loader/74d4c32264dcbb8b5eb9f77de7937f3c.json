{"ast":null,"code":"import axios from 'axios';\nimport React from \"react\";\nimport fetch from \"node-fetch\";\nexport default async function GetFBID(pagename) {\n  let fbID = '';\n\n  const jsdom = require(\"jsdom\");\n\n  const {\n    JSDOM\n  } = jsdom;\n  console.log(pagename); //construct and fetch pageurl\n\n  const pageUrl = \"https://www.facebook.com/\" + pagename;\n  console.log(\"requesting page: \", pageUrl);\n  let profileResponse = await fetch(pageUrl);\n  let profileHtml = await profileResponse.text();\n  let profileDom = new JSDOM(profileHtml);\n  let profileDoc = profileDom.window.document;\n  let metas = profileDoc.getElementsByTagName(\"meta\");\n  console.log(metas); //get id from meta tags for redirecting to ios app\n\n  for (const meta of metas) {\n    if (meta.attributes[0].value === \"al:ios:url\") {\n      fbID = meta.attributes[1].value.replace('fb://page/?id=', '');\n    }\n  }\n\n  console.log(fbID);\n  return fbID;\n}","map":{"version":3,"sources":["C:/Users/Patrick/PhpstormProjects/fakeblock/components/GetFBID.js"],"names":["axios","React","fetch","GetFBID","pagename","fbID","jsdom","require","JSDOM","console","log","pageUrl","profileResponse","profileHtml","text","profileDom","profileDoc","window","document","metas","getElementsByTagName","meta","attributes","value","replace"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AAEA,eAAe,eAAeC,OAAf,CAAuBC,QAAvB,EAAgC;AAC3C,MAAIC,IAAI,GAAG,EAAX;;AAEA,QAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAYF,KAAlB;AAEAG,EAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ,EAN2C,CAO3C;;AACA,QAAMO,OAAO,GAAG,8BAA8BP,QAA9C;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCC,OAAjC;AACA,MAAIC,eAAe,GAAG,MAAMV,KAAK,CAACS,OAAD,CAAjC;AACA,MAAIE,WAAW,GAAG,MAAMD,eAAe,CAACE,IAAhB,EAAxB;AACA,MAAIC,UAAU,GAAG,IAAIP,KAAJ,CAAUK,WAAV,CAAjB;AACA,MAAIG,UAAU,GAAGD,UAAU,CAACE,MAAX,CAAkBC,QAAnC;AACA,MAAIC,KAAK,GAAGH,UAAU,CAACI,oBAAX,CAAgC,MAAhC,CAAZ;AACAX,EAAAA,OAAO,CAACC,GAAR,CAAYS,KAAZ,EAf2C,CAgB3C;;AACA,OAAI,MAAME,IAAV,IAAkBF,KAAlB,EAAwB;AACpB,QAAGE,IAAI,CAACC,UAAL,CAAgB,CAAhB,EAAmBC,KAAnB,KAA6B,YAAhC,EAA6C;AACzClB,MAAAA,IAAI,GAAGgB,IAAI,CAACC,UAAL,CAAgB,CAAhB,EAAmBC,KAAnB,CAAyBC,OAAzB,CAAiC,gBAAjC,EAAkD,EAAlD,CAAP;AACH;AACJ;;AACDf,EAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AAEA,SAAOA,IAAP;AACH","sourcesContent":["import axios from 'axios';\r\nimport React from \"react\";\r\nimport fetch from \"node-fetch\"\r\n\r\nexport default async function GetFBID(pagename){\r\n    let fbID = '';\r\n\r\n    const jsdom = require(\"jsdom\");\r\n    const { JSDOM } = jsdom;\r\n\r\n    console.log(pagename);\r\n    //construct and fetch pageurl\r\n    const pageUrl = \"https://www.facebook.com/\" + pagename;\r\n    console.log(\"requesting page: \", pageUrl);\r\n    let profileResponse = await fetch(pageUrl);\r\n    let profileHtml = await profileResponse.text();\r\n    let profileDom = new JSDOM(profileHtml);\r\n    let profileDoc = profileDom.window.document;\r\n    let metas = profileDoc.getElementsByTagName(\"meta\");\r\n    console.log(metas)\r\n    //get id from meta tags for redirecting to ios app\r\n    for(const meta of metas){\r\n        if(meta.attributes[0].value === \"al:ios:url\"){\r\n            fbID = meta.attributes[1].value.replace('fb://page/?id=','')\r\n        }\r\n    }\r\n    console.log(fbID);\r\n\r\n    return fbID\r\n}"]},"metadata":{},"sourceType":"module"}