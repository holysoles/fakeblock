{"ast":null,"code":"import React from \"react\";\nimport fetch from \"node-fetch\";\nimport { Headers } from \"node-fetch\";\nimport GetFBID from \"../GetFBID\";\nexport default async function GetPhotos(page) {\n  let photoArray = [];\n  const fbID = await GetFBID(page);\n  const fullUrl = 'https://www.facebook.com/' + fbID + '/photos';\n  const headers = new Headers({\n    'User-Agent': \"PostmanRuntime/7.24.1\"\n  });\n  const opts = {\n    method: 'GET',\n    headers: headers,\n    redirect: 'follow'\n  };\n  const res = await fetch(fullUrl);\n\n  if (res.ok) {\n    console.log(\"response okay\");\n    const resText = await res.text();\n\n    const jsdom = require(\"jsdom\");\n\n    const {\n      JSDOM\n    } = jsdom;\n    const dom = new JSDOM(resText);\n    const document = dom.window.document;\n    const imageElements = document.querySelectorAll(\"div[role='main']\")[0].firstChild.childNodes[3].querySelectorAll(\"img[class='img']\");\n    console.log(imageElements.length);\n    return photoArray;\n  } else {\n    console.log(\"response failed\");\n    return [];\n  }\n}","map":{"version":3,"sources":["C:/Users/Patrick/PhpstormProjects/fakeblock/components/Photos/GetPhotos.js"],"names":["React","fetch","Headers","GetFBID","GetPhotos","page","photoArray","fbID","fullUrl","headers","opts","method","redirect","res","ok","console","log","resText","text","jsdom","require","JSDOM","dom","document","window","imageElements","querySelectorAll","firstChild","childNodes","length"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,SAAQC,OAAR,QAAsB,YAAtB;AACA,OAAOC,OAAP,MAAoB,YAApB;AAEA,eAAe,eAAeC,SAAf,CAAyBC,IAAzB,EAA+B;AAC1C,MAAIC,UAAU,GAAG,EAAjB;AACA,QAAMC,IAAI,GAAG,MAAMJ,OAAO,CAACE,IAAD,CAA1B;AAEA,QAAMG,OAAO,GAAG,8BAA6BD,IAA7B,GAAmC,SAAnD;AACA,QAAME,OAAO,GAAG,IAAIP,OAAJ,CAAY;AAAC,kBAAc;AAAf,GAAZ,CAAhB;AACA,QAAMQ,IAAI,GAAG;AACTC,IAAAA,MAAM,EAAE,KADC;AAETF,IAAAA,OAAO,EAAEA,OAFA;AAGTG,IAAAA,QAAQ,EAAE;AAHD,GAAb;AAKA,QAAMC,GAAG,GAAG,MAAMZ,KAAK,CAACO,OAAD,CAAvB;;AACA,MAAIK,GAAG,CAACC,EAAR,EAAY;AACRC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,UAAMC,OAAO,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAtB;;AACA,UAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,UAAM;AAACC,MAAAA;AAAD,QAAUF,KAAhB;AACA,UAAMG,GAAG,GAAG,IAAID,KAAJ,CAAUJ,OAAV,CAAZ;AACA,UAAMM,QAAQ,GAAGD,GAAG,CAACE,MAAJ,CAAWD,QAA5B;AACA,UAAME,aAAa,GAAGF,QAAQ,CAACG,gBAAT,CAA0B,kBAA1B,EAA8C,CAA9C,EAAiDC,UAAjD,CAA4DC,UAA5D,CAAuE,CAAvE,EAA0EF,gBAA1E,CAA2F,kBAA3F,CAAtB;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAYS,aAAa,CAACI,MAA1B;AAEA,WAAOvB,UAAP;AACH,GAXD,MAWO;AACHS,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,WAAO,EAAP;AACH;AACJ","sourcesContent":["import React from \"react\";\r\nimport fetch from \"node-fetch\"\r\nimport {Headers} from \"node-fetch\";\r\nimport GetFBID from \"../GetFBID\";\r\n\r\nexport default async function GetPhotos(page) {\r\n    let photoArray = [];\r\n    const fbID = await GetFBID(page);\r\n\r\n    const fullUrl = 'https://www.facebook.com/'+ fbID +'/photos';\r\n    const headers = new Headers({'User-Agent': \"PostmanRuntime/7.24.1\"});\r\n    const opts = {\r\n        method: 'GET',\r\n        headers: headers,\r\n        redirect: 'follow',\r\n    };\r\n    const res = await fetch(fullUrl);\r\n    if (res.ok) {\r\n        console.log(\"response okay\");\r\n        const resText = await res.text();\r\n        const jsdom = require(\"jsdom\");\r\n        const {JSDOM} = jsdom;\r\n        const dom = new JSDOM(resText);\r\n        const document = dom.window.document;\r\n        const imageElements = document.querySelectorAll(\"div[role='main']\")[0].firstChild.childNodes[3].querySelectorAll(\"img[class='img']\")\r\n        console.log(imageElements.length)\r\n\r\n        return photoArray\r\n    } else {\r\n        console.log(\"response failed\");\r\n        return []\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}