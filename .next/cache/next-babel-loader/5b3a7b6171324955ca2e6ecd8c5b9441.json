{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Patrick\\\\PhpstormProjects\\\\fakeblock\\\\components\\\\getSearch.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport axios from 'axios';\n\nasync function getServerSideProps(query) {\n  //make and await axios request on public search page\n  console.log(\"searchquery: \", query);\n  const searchUrl = 'http://www.facebook.com/public/' + query;\n  fetch(searchUrl).then(res => {\n    res.text().then(htmlText => {\n      var parser = new DOMParser();\n      var htmlDoc = parser.parseFromString(htmlText, 'text/html');\n\n      if (htmlDoc !== null) {\n        //Results list is hidden element on Dom as string (lazy loading?) need to parse\n        var resultsTextUnformatted = htmlDoc.getElementById(\"u_0_n\").innerHTML;\n        var resultsTextTemp = resultsTextUnformatted.replace(\"<!-- \", \"\");\n        var resultsTextFormatted = resultsTextTemp.replace(\"\");\n        var resultsHtml = parser.parseFromString(resultsTextFormatted, 'text/html');\n        console.log(resultsHtml);\n      }\n    });\n  });\n  return;\n}\n\nexport default function GetSearch(props) {\n  let query = props.query;\n\n  if (query !== undefined) {\n    let webpage = getServerSideProps(props.query);\n  }\n\n  return __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, \"result2\"), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, \"result1\"));\n}","map":{"version":3,"sources":["C:/Users/Patrick/PhpstormProjects/fakeblock/components/getSearch.js"],"names":["React","axios","getServerSideProps","query","console","log","searchUrl","fetch","then","res","text","htmlText","parser","DOMParser","htmlDoc","parseFromString","resultsTextUnformatted","getElementById","innerHTML","resultsTextTemp","replace","resultsTextFormatted","resultsHtml","GetSearch","props","undefined","webpage"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,eAAeC,kBAAf,CAAkCC,KAAlC,EAAyC;AACrC;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BF,KAA5B;AACA,QAAMG,SAAS,GAAG,oCAAmCH,KAArD;AAEAI,EAAAA,KAAK,CAACD,SAAD,CAAL,CAAiBE,IAAjB,CAAuBC,GAAD,IAAO;AACzBA,IAAAA,GAAG,CAACC,IAAJ,GAAWF,IAAX,CAAiBG,QAAD,IAAY;AACxB,UAAIC,MAAM,GAAG,IAAIC,SAAJ,EAAb;AACA,UAAIC,OAAO,GAAGF,MAAM,CAACG,eAAP,CAAuBJ,QAAvB,EAAiC,WAAjC,CAAd;;AACA,UAAGG,OAAO,KAAK,IAAf,EAAoB;AAChB;AACA,YAAIE,sBAAsB,GAAGF,OAAO,CAACG,cAAR,CAAuB,OAAvB,EAAgCC,SAA7D;AACA,YAAIC,eAAe,GAAGH,sBAAsB,CAACI,OAAvB,CAA+B,OAA/B,EAAuC,EAAvC,CAAtB;AACA,YAAIC,oBAAoB,GAAGF,eAAe,CAACC,OAAhB,CAAwB,EAAxB,CAA3B;AACA,YAAIE,WAAW,GAAGV,MAAM,CAACG,eAAP,CAAuBM,oBAAvB,EAA6C,WAA7C,CAAlB;AACAjB,QAAAA,OAAO,CAACC,GAAR,CAAYiB,WAAZ;AACH;AACJ,KAXD;AAYH,GAbD;AAeA;AACH;;AAED,eAAe,SAASC,SAAT,CAAmBC,KAAnB,EAAyB;AACpC,MAAIrB,KAAK,GAAGqB,KAAK,CAACrB,KAAlB;;AACA,MAAGA,KAAK,KAAKsB,SAAb,EAAuB;AACnB,QAAIC,OAAO,GAAGxB,kBAAkB,CAACsB,KAAK,CAACrB,KAAP,CAAhC;AACH;;AAED,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJJ,CADJ;AAUH","sourcesContent":["import React from \"react\";\r\nimport axios from 'axios';\r\n\r\nasync function getServerSideProps(query) {\r\n    //make and await axios request on public search page\r\n    console.log(\"searchquery: \",query)\r\n    const searchUrl = 'http://www.facebook.com/public/'+ query;\r\n\r\n    fetch(searchUrl).then((res)=>{\r\n        res.text().then((htmlText)=>{\r\n            var parser = new DOMParser();\r\n            var htmlDoc = parser.parseFromString(htmlText, 'text/html');\r\n            if(htmlDoc !== null){\r\n                //Results list is hidden element on Dom as string (lazy loading?) need to parse\r\n                var resultsTextUnformatted = htmlDoc.getElementById(\"u_0_n\").innerHTML;\r\n                var resultsTextTemp = resultsTextUnformatted.replace(\"<!-- \",\"\")\r\n                var resultsTextFormatted = resultsTextTemp.replace(\"\")\r\n                var resultsHtml = parser.parseFromString(resultsTextFormatted, 'text/html');\r\n                console.log(resultsHtml);\r\n            }\r\n        });\r\n    });\r\n\r\n    return\r\n}\r\n\r\nexport default function GetSearch(props){\r\n    let query = props.query;\r\n    if(query !== undefined){\r\n        let webpage = getServerSideProps(props.query);\r\n    }\r\n\r\n    return(\r\n        <ul>\r\n            <li>\r\n                result2\r\n            </li>\r\n            <li>\r\n                result1\r\n            </li>\r\n        </ul>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}