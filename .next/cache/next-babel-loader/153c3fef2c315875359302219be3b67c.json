{"ast":null,"code":"var __jsx = React.createElement;\nimport { useRouter } from \"next/router\";\nimport HeaderBar from \"../../components/HeaderBar\";\nimport React from \"react\";\nimport axios from 'axios';\nimport SearchResults from \"../../components/SearchResults\";\nexport async function getServerSideProps(context) {\n  const query = context.params.pagesearch; //api key for google search\n\n  const apiKey = 'AIzaSyDPDWPBR6U4jktm6-Mf48I3B4MBPGrE-oo';\n  const searchUrl = 'https://www.googleapis.com/customsearch/v1?key=' + apiKey + '&cx=009314889963947572451' + ':y8n4xwymi73&q=' + query;\n  const response = await axios.get(searchUrl);\n  const searchResults = response.data.items;\n  let results = [];\n\n  for (const result of searchResults) {\n    let title = result.title;\n    let link = result.link;\n    console.log(link); //replace facebook name instances\n\n    link = link.replace(\"https://www.facebook.com\", '');\n    results.push({\n      title: title,\n      link: link\n    });\n    console.log(\"next result\");\n  }\n\n  return {\n    props: {\n      results\n    }\n  };\n}\n\nconst Page = ({\n  results\n}) => {\n  const router = useRouter();\n  return __jsx(\"div\", null, __jsx(HeaderBar, null), __jsx(\"div\", null, __jsx(\"div\", null, __jsx(\"p\", null, \"Business Search results for: \", __jsx(\"a\", null, router.query.pagesearch))), __jsx(SearchResults, {\n    results: results\n  })));\n};\n\nexport default Page;","map":null,"metadata":{},"sourceType":"module"}