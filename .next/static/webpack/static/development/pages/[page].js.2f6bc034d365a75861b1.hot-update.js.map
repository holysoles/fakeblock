{"version":3,"file":"static/webpack/static\\development\\pages\\[page].js.2f6bc034d365a75861b1.hot-update.js","sources":["webpack:///./pages/[page]/index.js"],"sourcesContent":["import {useRouter} from \"next/router\";\r\nimport HeaderBar from \"../../components/HeaderBar\";\r\nimport React from \"react\";\r\nimport GetSideBar from \"../../components/Business/GetSideBar\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport MenuList from \"@material-ui/core/MenuList\";\r\nimport MakeMenu from \"../../components/MakeMenu\";\r\nimport fetch from \"node-fetch\";\r\n\r\nexport async function getServerSideProps(context){\r\n    //handle if person or business url\r\n    //assume business url\r\n\r\n    //axios request for page\r\n    let page = context.query.page;\r\n    let pageUrl = \"https://www.facebook.com/\"+ page +\"/\";\r\n    const res = await fetch(pageUrl);\r\n    const resText = await res.text();\r\n\r\n    //import jsdom for dom capabilties on server\r\n    const jsdom = require(\"jsdom\");\r\n    const { JSDOM } = jsdom;\r\n    const dom = new JSDOM(resText);\r\n    const document = dom.window.document;\r\n\r\n    const selectorString = \"a[href='\"+pageUrl+\"']\";\r\n    console.log(selectorString)\r\n    const pageName = document.querySelectorAll(selectorString)[0].innerText;\r\n\r\n    //pass html document to functions to get various page elements\r\n    let sidebarLinks = await GetSideBar(document);\r\n    //right sidebar PagesProfileHomeSecondaryColumnPagelet\r\n    return{props:{pageName, sidebarLinks}}\r\n}\r\n\r\nconst Page = ({pageName, sidebarLinks}) => {\r\n    const router = useRouter();\r\n\r\n    const pageMenu = sidebarLinks.map((item) => {\r\n        return MakeMenu(item)\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <HeaderBar />\r\n            <div>\r\n                <h1>{pageName}</h1>\r\n                <Paper>\r\n                    <MenuList>\r\n                        {pageMenu}\r\n                    </MenuList>\r\n                </Paper>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Page;\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AA4BA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;;AACA;;;;A","sourceRoot":""}