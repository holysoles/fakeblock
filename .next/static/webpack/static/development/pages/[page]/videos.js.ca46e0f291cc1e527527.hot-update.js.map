{"version":3,"file":"static/webpack/static\\development\\pages\\[page]\\videos.js.ca46e0f291cc1e527527.hot-update.js","sources":["webpack:///./components/Posts/GetTrueVideoSource.js","webpack:///./pages/[page]/videos.js"],"sourcesContent":["import fetch from \"node-fetch\";\r\n\r\nexport default async function GetTrueVideoSource(videoUrl){\r\n    //fetch video page\r\n    var myHeaders = new Headers();\r\n    \r\n    var requestOptions = {\r\n        method: 'GET',\r\n        headers: myHeaders,\r\n        redirect: 'follow'\r\n    };\r\n\r\n    const res = await fetch(videoUrl, requestOptions);\r\n    const resText = res.text();\r\n    const videoSource = resText.split(\"video:[{url:\\\"\")[1].split(\"\\\",start:0\")[0];\r\n    console.log(videoSource)\r\n}","import {useRouter} from \"next/router\";\r\nimport React from \"react\";\r\nimport HeaderBar from \"../../components/nav/HeaderBar\";\r\n//import { Typography } from \"@material-ui/core/Typography\";\r\nimport MakeVideoPlayer from \"../../components/Posts/MakeVideoPlayer\";\r\nimport GetVideos from \"../../components/Videos/GetVideos\";\r\nimport GetTrueVideoSource from \"../../components/Posts/GetTrueVideoSource\";\r\n\r\nexport async function getServerSideProps(context){\r\n    let page = context.query.page;\r\n    let videoArray = await GetVideos(page);\r\n\r\n    return{props:{videoArray}}\r\n}\r\n\r\nconst Page = ({videoArray}) => {\r\n    const router = useRouter();\r\n\r\n\r\n    const videos = videoArray.map(videoPost=>{\r\n       return videoPost.node.url\r\n    });\r\n\r\n\r\n    const videoList = videos.map(async (video)=>{\r\n        console.log(video)\r\n        const trueVideo = await GetTrueVideoSource(video);\r\n        return <MakeVideoPlayer source={trueVideo} />\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <HeaderBar/>\r\n            <div>\r\n                <div className='pagetitle'>\r\n                    <p align='center' variant={'h4'}>{router.query.page}'s Videos</p>\r\n                </div>\r\n                <div>\r\n                    {videoList}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Page;"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAJA;AAAA;AACA;AADA;AAUA;AACA;AACA;AACA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AAEA;AACA;AAQA;AAAA;AACA;AAGA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;;AACA;;;;A","sourceRoot":""}